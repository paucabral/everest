{% extends 'member/base.html' %}
{% load static %}

{% block title %}
EVEREST | Home
{% endblock %}

{% block content %}

<main class="">
  <!-- start Popup -->
  {% for message in messages %}
    {% if form.errors %}
      {% for field in form %}
        {% for error in field.errors %}
        <div class="alert alert-danger alert-dismissible"
          style="z-index: 2; background-color: #C0392B; position: absolute; margin-left: 2em; right: 2em; top: 8em;">
          <strong>{{ error|escape }}</strong>
          <button type="button" class="close btn btn-interact text-white" data-dismiss="alert"
            style="position: absolute; top:0; right: -2.7em;"><i class="far fa-times-circle fa-1x text-white"></i></button>
        </div>
        {% endfor %}
      {% endfor %}
    {% endif %}
    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
      <p class="alert alert-danger alert-link alert-dismissible text-white"
        style="z-index: 2; background-color: #C0392B; position: absolute; margin-left: 2em; right: 2em; top: 8em;">
        {{ message }}
        <button type="button" class="close btn btn-interact" data-dismiss="alert"
          style="position: absolute; top:0; right: -2.7em;"><i class="far fa-times-circle fa-1x text-white"></i></button>
      </p>
    {% else %}
      <p class="alert alert-success alert-link alert-dismissible text-white"
        style="z-index: 2; background-color: #27AE60; position: absolute; margin-left: 2em; right: 2em; top: 8em;">
        {{message}}
        <button type="button" class="close btn btn-interact" data-dismiss="alert"
          style="position: absolute; top:0; right: -2.7em;"><i class="far fa-times-circle fa-1x text-white"></i></button>
      </p>
    {% endif %}
  {% endfor %}
  <!-- end Popup -->
  <div class="container">
    <div class="row">
      <div id="carouselIndicators" class="carousel slide carousel-fade" data-bs-ride="carousel" style="z-index: 0;">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselIndicators" data-bs-slide-to="0" class="active" aria-current="true"
            aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            {% if banner1 %}
            <img class="announcement-banner d-block w-100" src="{{ banner1.banner_img.url }}" />
            {% else %}
            <div class="bg-success d-block w-100" style="height: 20em;">No announcement placed.</div>
            {% endif %}
          </div>
          <div class="carousel-item">
            {% if banner2 %}
            <img class="announcement-banner d-block w-100" src="{{ banner2.banner_img.url }}" />
            {% else %}
            <div class="bg-success d-block w-100" style="height: 20em;">No announcement placed.</div>
            {% endif %}
          </div>
          <div class="carousel-item">
            {% if banner3 %}
            <img class="announcement-banner d-block w-100" src="{{ banner3.banner_img.url }}" />
            {% else %}
            <div class="bg-success d-block w-100" style="height: 20em;">No announcement placed.</div>
            {% endif %}
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
  </div>

</main>

<script>
  $('.carousel').carousel({
      interval: 500
    })
</script>

{% endblock %}